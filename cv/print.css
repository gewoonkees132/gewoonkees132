/* ==========================================================================
   Kees Leemeijer — Print Styles v10.3

   - Full-bleed background (all pages)
   - Consistent safe margins on every page via padding
   - Reliable page numbers using the @page rule
   - Two-column grid with paired sections
   - Extra Curriculars in right column
   - References section support
   ========================================================================== */

/*
 *   This setup enables a full-bleed background and reliable page numbers.
 *   1. Margins are set to 0 on top/left/right to allow the background to fill the page.
 *   2. A bottom margin is reserved exclusively for the page number area.
 *   3. Padding is applied to .main-content to create the content "safe area".
 */
@page {
  size: A4 portrait;
  margin: 0 0 0 0; /* top, right, bottom, left */

  @bottom-center {
    content: counter(page) " / " counter(pages);
    font-family: "Nunito", sans-serif;
    font-size: 7pt;
    color: #6a737d;
    vertical-align: top;
    margin: -10mm 0 0 0;
  }
}

@media print {
  /* ==========================================================================
     Design Tokens (Print)
     ========================================================================== */
  :root {
    /* Colors */
    --color-background: #ffffff;
    --color-surface: #f2f2f2;
    --color-text-primary: #2f363d;
    --color-text-secondary: #6a737d;
    --color-text-muted: #959da5;
    --color-accent: #2f363d;
    --color-border: #e1e4e8;
    --color-border-light: #f0f3f6;

    /* Typography */
    --font-family-primary: 'Nunito', -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    --font-weight-normal: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --font-weight-bold: 700;
    --font-size-h1: 18pt;
    --font-size-h2: 14.5pt;
    --font-size-h3: 12.5pt;
    --font-size-h4: 10pt;
    --font-size-base: 9.25pt;
    --font-size-sm: 8.5pt;
    --font-size-xs: 7.5pt;
    --line-height-tight: 1.15;
    --line-height-snug: 1.35;
    --line-height-base: 1.45;
    --line-height-heading: 1.15;
    --letter-spacing-tight: -0.01em;

    /* Spacing */
    --space-2xs: 0.75mm;
    --space-xs: 1.5mm;
    --space-sm: 4mm;
    --space-md: 4mm;
    --space-lg: 7mm;
    --space-xl: 14mm;

    /* Print-specific Layout */
    --print-safe-margin: 10mm;
    --border-width: 0.5pt;
    --border-width-thick: 0.6pt;
    --column-gap: 7mm;
    --indent-list: 4mm;
    --paragraph-spacing: 1.75mm;
    --list-item-spacing: 1mm;
    --section-spacing: 5mm;
    --cv-item-spacing: var(--space-md);
    --size-avatar-print: 20mm;
  }

  /* ==========================================================================
     Reset & Base
     ========================================================================== */
  *, *::before, *::after {
    print-color-adjust: exact !important;
    -webkit-print-color-adjust: exact !important;
  }

  html, body {
    margin: 0;
    padding: 0;
    background: transparent !important;
    color: var(--color-text-primary);
    font-family: var(--font-family-primary);
    font-size: var(--font-size-base);
    line-height: var(--line-height-base);
    font-weight: var(--font-weight-normal);
    -webkit-font-smoothing: antialiased;
    text-rendering: optimizeLegibility;
    hyphens: auto;
  }

  /* Hide screen-only UI */
  .sidebar-nav, .mobile-header, .scroll-indicator-group, .main-nav,
  .sidebar-header, .print-brand-header, .print-logo, button, input,
  select, textarea, .no-print {
    display: none !important;
  }

  /* Remove decorative screen backgrounds */
  .layout-container { background: none !important; }
  .layout-container::before { content: none !important; background: none !important; }

  /* ==========================================================================
     Full-bleed brand background (fixed across all pages)
     ========================================================================== */
  html::before {
    content: '';
    position: fixed;
    inset: 0;
    z-index: -1;
    pointer-events: none;

    /* Layer 1: subtle accent gradient; Layer 2: logo watermark */
    background-image:
      linear-gradient(135deg,
        rgba(14,129,146,0.02) 0%,
        rgba(14,129,146,0.01) 55%,
        transparent 100%),
      url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 52.16 61.46' fill='%230E8192' opacity='.09'><g><path d='M18.5,23.97c9.94-.87,12.45-15.95,23.11-22.78,2.99-1.92,7.08-1.36,9.21,1.49,2.39,3.21,1.49,7.7-1.84,9.76-4.18,2.58-11.25,7.98-14.79,11.49-3.53,3.52-3.53,5.16-3.53,6.8s0,3.28,3.53,6.79c3.47,3.46,10.36,8.73,14.57,11.36,3.08,1.92,4.33,5.95,2.56,9.12-1.88,3.37-6.16,4.46-9.41,2.46-10.81-6.67-13.33-21.8-23.13-22.94-.68-.08-1.19-.64-1.19-1.33v-11.23c0-.52.39-.95.91-1Z'/><rect width='13.44' height='61.46' rx='3.66'/></g></svg>");
    background-repeat: no-repeat, no-repeat;
    background-size: cover, 20mm auto;
    background-position: center, right var(--print-safe-margin) bottom 10mm;
  }

  /* Ensure gradient-filled text prints as solid color */
  .page-header h1 {
    background: none !important;
    -webkit-text-fill-color: initial !important;
    color: var(--color-text-primary) !important;
  }

  .main-content {
    padding: var(--print-safe-margin);
    padding-bottom: 0;
    box-sizing: border-box;
    -webkit-box-decoration-break: clone;
    box-decoration-break: clone;
  }

  /* ==========================================================================
     Main Layout - Two Column Grid
     ========================================================================== */
  .page-resume .main-content {
    display: grid;
    grid-template-columns: 30fr 70fr;
    column-gap: var(--column-gap);
    row-gap: var(--space-xs);
    align-items: start;
  }

  /* Row 1: Header spans both columns */
  .page-resume .page-header {
    grid-row: 1;
    grid-column: 1 / -1;
    page-break-after: avoid;
    margin: 0 0 var(--space-sm) 0;
  }

  /* -------------------------------------------------------------------------
     Left Column: Summary, Skills, Awards, Languages, References
     ------------------------------------------------------------------------- */
  .page-resume #summary {
    grid-row: 2;
    grid-column: 1;
    margin: 0;
    break-inside: avoid;
    page-break-inside: avoid;
  }

  .page-resume #skills {
    grid-row: 3;
    grid-column: 1;
    margin: 0;
    break-inside: avoid;
    page-break-inside: avoid;
  }

  .page-resume #awards {
    grid-row: 4;
    grid-column: 1;
    margin: 0;
    break-inside: avoid;
    page-break-inside: avoid;
  }

  .page-resume #languages {
    grid-row: 5;
    grid-column: 1;
    margin: 0;
    break-inside: avoid;
    page-break-inside: avoid;
  }

  .page-resume #references {
    grid-row: 6;
    grid-column: 1;
    margin: 0;
    break-inside: avoid;
    page-break-inside: avoid;
  }

  /* -------------------------------------------------------------------------
     Right Column: Experience, Extracurriculars, Education
     ------------------------------------------------------------------------- */
  .page-resume #experience {
    grid-row: 2 / 5; /* Spans rows alongside Summary, Skills, Awards */
    grid-column: 2;
    margin: 0;
    break-inside: auto;
    page-break-inside: auto;
  }

  .page-resume #extracurriculars {
    grid-row: 5; /* Alongside Languages */
    grid-column: 2;
    margin: 0;
    break-inside: avoid;
    page-break-inside: avoid;
  }

  .page-resume #education {
    grid-row: 6 / 8; /* Alongside References and beyond */
    grid-column: 2;
    margin: 0;
    break-inside: auto;
    page-break-inside: auto;
  }

  /* Fallback helpers */
  .page-resume .print-col-left,
  .page-resume .print-column-left { grid-column: 1; }
  .page-resume .print-col-right,
  .page-resume .print-column-right { grid-column: 2; }

  /* Headings within sections should not add extra top spacing */
  .page-resume .main-content > section h2 { margin-top: 0; }

  /* Keep each job/education entry together */
  .page-resume .cv-item {
    break-inside: avoid;
    page-break-inside: avoid;
    margin-bottom: var(--cv-item-spacing);
  }
  .page-resume .cv-item:last-child { margin-bottom: 0; }

  /* ==========================================================================
     Compact Header (Logo-free)
     ========================================================================== */
  .header-content-wrapper {
    display: grid;
    grid-template-columns: auto 1fr;
    grid-template-areas:
      "portrait text"
      "portrait contact";
    column-gap: var(--space-md);
    row-gap: var(--space-xs);
    align-items: start;
    padding-bottom: var(--space-xs);
    border-bottom: var(--border-width-thick) solid var(--color-accent);
    margin: 0;
  }

  .header-portrait-container {
    grid-area: portrait;
    width: var(--size-avatar-print);
    height: var(--size-avatar-print);
  }
  .portrait-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 50%;
    border: var(--border-width) solid var(--color-border);
    filter: grayscale(20%) contrast(1.1);
  }

  .header-text-container { grid-area: text; align-self: center; }
  .header-text-container h1 {
    font-size: var(--font-size-h1);
    font-weight: var(--font-weight-bold);
    line-height: var(--line-height-tight);
    margin: 0 0 var(--space-2xs) 0;
    letter-spacing: var(--letter-spacing-tight);
  }
  .page-header .lead {
    font-size: calc(var(--font-size-base) * 1.15);
    font-weight: var(--font-weight-medium);
    color: var(--color-accent);
    margin: 0;
    line-height: var(--line-height-tight);
  }

  /* Hide relocation badge in print */
  .page-header .sub-lead {
    display: none;
  }

  .contact-info {
    grid-area: contact;
    list-style: none;
    padding: 0;
    margin: var(--space-2xs) 0 0 0;
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2xs) var(--space-md);
    font-size: var(--font-size-xs);
    color: var(--color-text-secondary);
    line-height: var(--line-height-tight);
  }
  .contact-info li { margin: 0; white-space: nowrap; }
  .contact-info a { color: var(--color-text-secondary); text-decoration: none; }

  /* ==========================================================================
     Typography & Sections
     ========================================================================== */
  h1, h2, h3, h4 {
    font-weight: var(--font-weight-bold);
    line-height: var(--line-height-heading);
    page-break-after: avoid;
    margin-top: var(--space-sm);
    margin-bottom: var(--space-xs);
  }
  h1 { font-size: var(--font-size-h1); margin-top: 0; }

  h2 {
    font-size: var(--font-size-h2);
    color: var(--color-accent);
    border-bottom: var(--border-width) solid var(--color-border);
    padding-bottom: var(--space-2xs);
    margin-top: var(--section-spacing);
    margin-bottom: var(--space-sm);
  }
  section:first-of-type h2 { margin-top: 0; }

  h3 { font-size: var(--font-size-h3); font-weight: var(--font-weight-semibold); margin-bottom: var(--space-2xs); }
  h4 { font-size: var(--font-size-h4); font-weight: var(--font-weight-medium); margin-top: var(--space-xs); margin-bottom: var(--space-2xs); }

  p {
    margin: 0 0 var(--paragraph-spacing) 0;
    orphans: 3;
    widows: 3;
    text-align: justify;
    hyphens: auto;
  }
  p:last-child { margin-bottom: 0; }

  a { color: var(--color-accent); text-decoration: none; }

  ul { padding-left: var(--indent-list); margin: 0 0 var(--paragraph-spacing) 0; }
  li { margin-bottom: var(--list-item-spacing); page-break-inside: avoid; line-height: var(--line-height-snug); }
  li:last-child { margin-bottom: 0; }
  li::marker { color: var(--color-accent); font-size: 0.9em; }
  strong { font-weight: var(--font-weight-bold); }

  section { margin-bottom: var(--section-spacing); page-break-inside: avoid; }
  section:last-of-type { margin-bottom: 0; }

  /* ==========================================================================
     Résumé-Specific Styles
     ========================================================================== */

  /* Summary */
  .page-resume #summary p {
    line-height: var(--line-height-snug);
    font-size: var(--font-size-sm);
  }

  /* Skills */
  .page-resume .skills-list {
    list-style: none;
    padding: 0;
    margin: 0;
    columns: 1;
  }
  .page-resume .skills-list li {
    margin-bottom: var(--space-sm);
    break-inside: avoid;
    line-height: var(--line-height-snug);
  }
  .page-resume .skills-list strong {
    display: block;
    margin-bottom: calc(var(--space-2xs) * 0.5);
    font-size: var(--font-size-base);
  }
  .page-resume .skills-list li > text,
  .page-resume .skills-list li > span:not(strong) {
    font-size: calc(var(--font-size-base) * 0.95);
    color: var(--color-text-secondary);
  }

  /* Experience & Education Items */
  .page-resume .cv-item > h3 {
    margin: 0 0 var(--space-2xs) 0;
    font-size: var(--font-size-h3);
  }

  .page-resume .experience-header {
    display: flex;
    justify-content: space-between;
    align-items: baseline;
    gap: var(--space-sm);
    margin: var(--space-xs) 0;
  }
  .page-resume .experience-header h4 {
    margin: 0;
    line-height: var(--line-height-tight);
    font-size: var(--font-size-xs);
    color: var(--color-text-secondary);
  }
  .page-resume .experience-header span {
    color: var(--color-text-secondary);
    font-size: var(--font-size-xs);
    flex-shrink: 0;
  }

  /* Languages */
  .page-resume .language-list {
    list-style: none;
    padding: 0;
    margin: 0;
  }
  .page-resume .language-list li {
    font-size: var(--font-size-sm);
    margin: var(--space-2xs) 0;
  }

  /* Awards */
  .page-resume #awards .cv-item { margin-bottom: var(--space-sm); }
  .page-resume #awards .cv-item h3 {
    display: inline;
    margin-right: var(--space-xs);
    font-size: var(--font-size-h4);
  }
  .page-resume #awards .cv-item h3 .award-year {
    color: var(--color-text-secondary);
    font-size: var(--font-size-xs);
    margin-left: var(--space-xs);
  }
  .page-resume #awards .cv-item p {
    margin-top: var(--space-2xs);
    font-size: var(--font-size-sm);
  }

  /* References */
  .page-resume #references .references-grid {
    display: block;
  }
  .page-resume #references .reference-item {
    margin-bottom: var(--space-sm);
    padding-bottom: var(--space-sm);
    border-bottom: var(--border-width) solid var(--color-border-light);
    break-inside: avoid;
    page-break-inside: avoid;
  }
  .page-resume #references .reference-item:last-child {
    margin-bottom: 0;
    padding-bottom: 0;
    border-bottom: none;
  }
  .page-resume #references .reference-item h3 {
    font-size: var(--font-size-h4);
    margin: 0 0 var(--space-2xs) 0;
  }
  .page-resume #references .reference-item p {
    font-size: var(--font-size-sm);
    margin: 0 0 var(--space-2xs) 0;
    line-height: var(--line-height-snug);
  }
  .page-resume #references .reference-item p:last-child {
    margin-bottom: 0;
  }
  .page-resume #references .reference-item a {
    color: var(--color-text-secondary);
  }

  /* Extracurriculars - compact styling */
  .page-resume #extracurriculars .cv-item {
    margin-bottom: var(--space-sm);
  }
  .page-resume #extracurriculars .cv-item h3 {
    font-size: var(--font-size-h4);
  }
  .page-resume #extracurriculars .cv-item ul {
    margin-top: var(--space-xs);
  }

  /* Education - Relevant Coursework compact list */
  .page-resume #education .cv-item ul {
    margin-top: var(--space-xs);
  }
  .page-resume #education .cv-item ul li {
    font-size: var(--font-size-sm);
  }

  /* ==========================================================================
     Portfolio (Print)
     ========================================================================== */
  .page-portfolio .filter-container,
  .page-portfolio .project-image-container { display: none !important; }

  .page-portfolio .projects-grid { display: block; }
  .page-portfolio .project-card-button {
    display: block !important;
    padding: 0;
    border: none;
    background: transparent;
    text-align: left;
    font: inherit;
    color: inherit;
  }
  .page-portfolio .project-card {
    page-break-inside: avoid;
    margin-bottom: var(--cv-item-spacing);
    padding-bottom: var(--cv-item-spacing);
    border-bottom: var(--border-width) solid var(--color-border);
  }
  .page-portfolio .project-card:last-of-type {
    margin-bottom: 0;
    padding-bottom: 0;
    border-bottom: none;
  }
  .page-portfolio .project-content { padding: 0; }
  .page-portfolio .project-title {
    font-size: var(--font-size-h3);
    font-weight: var(--font-weight-semibold);
    margin-block: 0 var(--space-2xs);
  }
  .page-portfolio .project-meta {
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-medium);
    color: var(--color-text-secondary);
    margin-block: 0 var(--space-xs);
  }
  .page-portfolio .project-description {
    margin-block: var(--space-xs) var(--space-sm);
    font-size: var(--font-size-sm);
  }
  .page-portfolio .project-metrics {
    font-size: var(--font-size-xs);
    color: var(--color-text-secondary);
    display: flex;
    gap: var(--space-md);
    margin-block: var(--space-xs) var(--space-sm);
    padding-top: var(--space-xs);
    border-top: var(--border-width) solid var(--color-border-light);
  }
  .page-portfolio .metric strong { color: var(--color-text-primary); }
  .page-portfolio .project-tech { font-size: var(--font-size-xs); color: var(--color-text-secondary); }
  .page-portfolio .tech-tag {
    display: inline;
    padding: 0; margin: 0; background: none; border: none; font: inherit; color: inherit;
  }
  .page-portfolio .project-tech::before {
    content: "Technologies: ";
    font-weight: var(--font-weight-bold);
    color: var(--color-text-primary);
  }
  .page-portfolio .tech-tag:not(:last-child)::after { content: ", "; }
}
/* Compact CV items - reduced spacing for minor roles */
.cv-item-compact {
    margin-bottom: var(--space-sm);
}

.cv-item-compact h3 {
    font-size: 1rem;
}

.cv-item-compact p {
    margin-bottom: 0;
}